本章内容：操作系统的目标和作用，发展过程，基本特性，运行环境，主要功能，结构和系统调用

## 操作系统（Operating System,OS）

os是配置在计算机上的第一层软件，是对硬件系统的首次扩充，其主要作用是管理硬件设备，提高它们的利用率和系统吞吐量，并为用户和应用程序提供一个简单的接口，以便于用户与应用程序使用硬件。

## 操作系统的目标和作用

### OS的目标

OS的目标和应用场景有关。例如，针对应用于查询系统的OS，希望有较好的人机交互性；而对于军工，多媒体环境的os，希望有较好的实时性；面向微机的OS，希望有更好的方便性。但主要的目标有以下：

1. 方便性，配置了OS的计算机，用户可以使用汇编或高级语言对硬件进行操作
2. 有效性，第一目的是为了提高系统资源的利用率；第二目的是为了提高系统吞吐量
3. 可扩充性，方便增添新功能或模块，以及对原有功能和模块修改
4. 开放性，系统遵循国际标准，各厂商的硬件与软件很好兼容

### os的作用

目标是为达成预想结果而设立的阶段性里程，作用则是本阶段所起到的能量。

1. os作为用户与计算机硬件系统之间的**接口**

   > 用户通过命令方式、系统调用方式和图形/窗口方式来实现自身与os的通信，并获取OS的服务

2. os作为计算机系统**资源**的**管理**者

   > 资源有4类：处理机、存储器、I/O设备和信息（应用程序和数据）

3. os实现计算机资源的抽象

   > os是铺设在裸机上多层软件的集合，在增强系统功能的基础上，隐藏了对硬件操作的细节，实现了对硬件操作的多个层次的抽象模型

## os发展过程

- 未配置os的计算机系统

  - 人工操作方式
  - 脱机I/O方式
- 单道批处理系统
  - 相当一段时间cpu空间，且计算机内存浪费
- 多道批处理系统
- 分时系统
  - 主要形成动力是用户对人机交互的需求
  - 及时接收：配置一个多路卡即可同时接受多个用户键入的命令或数据
  - 及时处理：采用轮转运行的方式。系统规定每个作业每次只能运行一个时间片
- 实时系统
- 微机处理系统
- 嵌入式系统
  - 为实现某个特定的功能而设计的系统
- 分布式系统
  - 基于软件实现一种多处理机系统

## OS基本特性

### 并发

并行与并发：

并行指多个事件同时运行，并发指多个事件在同一个时间间隔发生

### 共享

- 互斥共享方式：打印机，一段时间内只允许一个进程访问该资源
- 同时共享方式：磁盘设备，宏观同步，微观对资源的交替访问

### 虚拟

### 异步

- 进程以不可预知的速度向前移动，即进程的异步性

## OS的运行环境

### os内核

- 与硬件紧密相关的模块（中断处理程序）
- 各种常用设备的驱动程序、运行效率较高的模块（进程调度模块、时钟管理模块）
- 公用的一些基本操作

都安排在紧靠硬件的软件层次中，并将它们常驻内存，它们就成为OS内核。

这样一来可以对这些软件进行保护，二来可以提高OS运行效率

大多数的OS内核都包含一下两种功能：

1. 支撑功能（提供其他模块所需要的一些基本功能）
   - 中断处理，如系统调用、键盘命令输入、进程调度等
   - 时钟管理，如时间片轮转调度中，时间片用完，时钟管理产生一个中断信号促使进程调度
   - 原语操作， 如实行进程同步原语等，要么做，要么不做
2. 资源管理功能
   - 进程管理
   - 存储器管理
   - 设备管理

### 处理机的双重工作模式

为确保os正确运行，必须区分os代码和用户代码，大多数计算机系统采用硬件支持，以便区分代码的运行模式：用户态（user mode）和内核态（kernel mode）。也称为目态（模式位=0）和管态（模式位=1）

### 中断与异常

现代os是由中断驱动的。中断处理程序用于处理中断。

异常源于软件错误，中断是硬件通过系统总线发送信号到CPU触发的。

## os的主要功能

